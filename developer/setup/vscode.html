<!doctype html>
<html lang="en">
<link rel="icon" type="image/png" href="/assets/img/favicon.png" >
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="search-domain" value="https://revbayes.github.io/">
    <link href="https://fonts.googleapis.com/css?family=Raleway" rel="stylesheet">
    <link rel="stylesheet" href="/assets/css/syntax.css">
    <link rel="stylesheet" type="text/css" href="/assets/css/bootstrap.css" />
    <link rel="stylesheet" type="text/css" href="/assets/css/bootstrap-theme.css" />
    <link rel="stylesheet" type="text/css" href="/assets/css/main.css" />
    <title>RevBayes: Setting up Visual Studio Code for RevBayes development</title>
  </head>
  <body>
    <div class="container">
      <nav class="navbar navbar-default navbar-fixed-top">
  <div class="container-fluid">
    <div class="navbar-header">
      <a href="/" class="pull-left">
        
        <img class="navbar-logo" src="/assets/img/aquabayes-desaturated.png" alt="RevBayes Home" />
        
      </a>

      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar" align="right"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

    </div>
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav">
        <li><a href="/download">Download</a></li>
        <li><a href="/tutorials/">Tutorials</a></li>
        <li><a href="/documentation/">Documentation</a></li>
        <li><a href="/interfaces">Interfaces</a></li>
        <li><a href="/workshops/">Workshops</a></li>
        <li><a href="/jobs/">Jobs</a></li>
        <li><a href="/developer/">Developer</a></li>
        <li><class="header-search">
  <form class="header-search-form" action="/search.html" method="get">
    <input type="text" id="search-box-nav" placeholder="Search..." name="query" style="border-color:black;background-color:white;height:32px;">
    <button type="submit" style="color:black; border-color:black;width:32px;height:32px;padding-top:4px">
        <img src="https://revbayes.github.io/assets/img/search.png" height="22px" width="28px"/>
    </button>
  </form>
</div>

</li>
      </ul>
      <!-- <form class="navbar-form navbar-right" role="search" id="search" onsubmit="google_search(); return false;">
        <div class="form-group">
          <input type="text" id="google-search" placeholder="Search..." aria-label="Google site search">
        </div>
      </form> -->
    </div>
  </div>
</nav>

      <!-- adds margin to main content -->
      <div class="container" style="padding-left:20px padding-right:20px;">
          <div class="titlebar">
	<h1 class="maintitle">Setting up Visual Studio Code for RevBayes development</h1>
	
	<h4 class="authors"></h4>
  <h5>Last modified on January 28, 2025</h5>
</div>

<p>Visual Studio Code (or VSCode) is an open-source text editor by Microsoft. You can download and install it <a href="https://code.visualstudio.com/Download">here</a>.</p>

<h2 id="prerequisites">Prerequisites</h2>

<p>You will first need to <a href="https://revbayes.github.io/compile-windows">install</a> RevBayes from <a href="https://revbayes.github.io/download">source</a>. Once RevBayes is installed (i.e. once you have successfully ran <code class="language-plaintext highlighter-rouge">./build.sh</code>), open VSCode. Once VSCode is open you will need to select the RevBayes folder from wherever you have stored it on your computer.</p>

<p>Now you will need to install three extensions to get RevBayes to work nicely. To do this click on the button shown below in VSCode.</p>

<p><img src="figures/Extension-button.png" /></p>

<h2 id="getting-revbayes-working">Getting RevBayes working</h2>

<p>Once here you need to search for the <a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode.cpptools"> “C/C++ extension” </a>, the <a href="https://marketplace.visualstudio.com/items?itemName=twxs.cmake"> “CMake extension” </a>, and the <a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode.cmake-tools"> “CMake tools extension” </a>.
Now that these are installed, CMake tools will prompt in the lower right asking you to locate the file named <code class="language-plaintext highlighter-rouge">CMakeLists.txt</code>. If this prompt does not appear, configure CMake manually by typing Ctrl+Shift+P (or CMD+Shift+P) to bring up the command palette, typing “configure”, and running <code class="language-plaintext highlighter-rouge">CMake: Configure</code> or <code class="language-plaintext highlighter-rouge">CMake: Delete cache and Reconfigure</code>. This should prompt the choice to locate <code class="language-plaintext highlighter-rouge">CMakeLists.txt</code>. Choose the file located in <code class="language-plaintext highlighter-rouge">revbayes/src/CMakeLists.txt</code>. This will prompt a choice of compiler kit. You can choose <code class="language-plaintext highlighter-rouge">clang</code> or <code class="language-plaintext highlighter-rouge">gcc</code>, either will work. This should begin building RevBayes using CMake and a new folder should appear in <code class="language-plaintext highlighter-rouge">revbayes</code> called <code class="language-plaintext highlighter-rouge">build</code>. This will contain the compiled files and will eventually be added to <code class="language-plaintext highlighter-rouge">.gitignore</code>. If it is not currently in it, you will need to add this to the <code class="language-plaintext highlighter-rouge">.gitignore</code> file. Specifically, add <code class="language-plaintext highlighter-rouge">build/**</code> and <code class="language-plaintext highlighter-rouge">vscode/**</code> to <code class="language-plaintext highlighter-rouge">.gitignore</code>. If the build does not start automatically click the build button (the gear icon) on the blue bar on the bottom of the screen. Note that VScode will build RevBayes to a different location than running <code class="language-plaintext highlighter-rouge">./build.sh</code> on the command line. The rb executable built by VSCode will be in <code class="language-plaintext highlighter-rouge">revbayes/build</code>.</p>

<p>Once the CMake build finishes, you can setup debugging by clicking the triangle with the small beatle in the lower left. Now click on the gear shown below. This will open a new file called <code class="language-plaintext highlighter-rouge">launch.json</code>. You need to change the values for the <code class="language-plaintext highlighter-rouge">"program:"</code> object to the path where your <code class="language-plaintext highlighter-rouge">rb</code> executeable is. For example, <code class="language-plaintext highlighter-rouge">"${workspaceFolder}/build/rb"</code>. In VSCode <code class="language-plaintext highlighter-rouge">${workspaceFolder}</code> refers to the root folder of the project you opened (unless you have changed the folder’s name, this is most likely <code class="language-plaintext highlighter-rouge">revbayes</code>). To test a specific rev script, change the value of the <code class="language-plaintext highlighter-rouge">"args"</code> object to a location of a Rev script. With that you can use debugging in VSCode by pressing the play button on the debug panel, or using the command palette (Ctrl+Shift+P or CMD+Shift+P) and using the “CMake: Debug” command. VSCode will then run the file you added to <code class="language-plaintext highlighter-rouge">"args"</code>, but stop the process whenever it reaches a line you have set with a breakpoint (i.e. where you have clicked to the left of the line number, adding a small red dot). When stopped at a breakpoint, you can use the debugging panels to investigate variables and functions to debug your program.</p>

<p><img src="figures/screensho2.png" /></p>

<ol class="bibliography"></ol>

<script type="text/javascript">
var _ol = document.querySelectorAll('ol');
for (var i = 0, elem_ol; elem_ol = _ol[i]; i++) {
	if ( elem_ol.classList == "bibliography" ) {
		var _li = elem_ol.getElementsByTagName("li");
		//for (var j = 0, elem_li; elem_li = _li[j]; j++)
		//{
		//	elem_li.innerHTML = elem_li.innerHTML.replace(/(https?:\/\/)([^\s<]+)/,"<a href=\"$1$2\">$2");
		//}
		if(_li.length > 0)
			elem_ol.outerHTML = "<h2 class='references'>References</h2><hr class='references'>"+elem_ol.outerHTML
	}
}
</script>
      </div>
      <br>
<footer>
  <div class="container">
  <div class="row">
    <div class="col-sm-12" align="center">
      <a href="https://github.com/revbayes">GitHub</a> | <a href="/license">License</a> | <a href="/citation">Citation</a> | <a href="https://groups.google.com/forum/#!forum/revbayes-users">Users Forum</a>
    </div>
  </div>
  <br>
  </div>
</footer>

    </div>
    <script src="/assets/js/vendor/jquery.min.js"></script>
<script src="/assets/js/vendor/FileSaver.min.js"></script>
<script src="/assets/js/vendor/jszip.min.js"></script>
<script src="/assets/js/vendor/bootstrap.min.js"></script>

<script type="text/javascript">
// Add default language
$(":not(code).highlighter-rouge").each(function() {
  
  if( this.classList == "highlighter-rouge") {
    this.classList = "default highlighter-rouge";
  }
  
});
// $("code.highlighter-rouge").each(function() {
//   
//   if( this.classList == "highlighter-rouge") {
//       this.classList = "default highlighter-rouge";
//   }
//   
// });
</script>
<script type="text/javascript"
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
    MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [['$','$'], ['\\(','\\)']],
      processEscapes: true
    }
    });
    MathJax.Hub.Queue(function () {
      $(".aside").each(function() {
          $("div .MathJax", this).hide();
      });
    });
</script>
<script src="/assets/js/base.js"></script>

    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-0Y03X9Q2TJ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-0Y03X9Q2TJ');
</script>

  </body>
</html>
