<!doctype html>
<html lang="en">
<link rel="icon" type="image/png" href="/assets/img/favicon.png" >
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="search-domain" value="https://revbayes.github.io/">
    <link href="https://fonts.googleapis.com/css?family=Raleway" rel="stylesheet">
    <link rel="stylesheet" href="/assets/css/syntax.css">
    <link rel="stylesheet" type="text/css" href="/assets/css/bootstrap.css" />
    <link rel="stylesheet" type="text/css" href="/assets/css/bootstrap-theme.css" />
    <link rel="stylesheet" type="text/css" href="/assets/css/main.css" />
    <title>RevBayes: RevBayes Git Workflow</title>
  </head>
  <body>
    <div class="container">
      <nav class="navbar navbar-default navbar-fixed-top">
  <div class="container-fluid">
    <div class="navbar-header">
      <a href="/" class="pull-left">
        
        <img class="navbar-logo" src="/assets/img/aquabayes-desaturated.png" alt="RevBayes Home" />
        
      </a>

      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar" align="right"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

    </div>
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav">
        <li><a href="/download">Download</a></li>
        <li><a href="/tutorials/">Tutorials</a></li>
        <li><a href="/documentation/">Documentation</a></li>
        <li><a href="/interfaces">Interfaces</a></li>
        <li><a href="/workshops/">Workshops</a></li>
        <li><a href="/jobs/">Jobs</a></li>
        <li><a href="/developer/">Developer</a></li>
        <li><class="header-search">
  <form class="header-search-form" action="/search.html" method="get">
    <input type="text" id="search-box-nav" placeholder="Search..." name="query" style="border-color:black;background-color:white;height:32px;">
    <button type="submit" style="color:black; border-color:black;width:32px;height:32px;padding-top:4px">
        <img src="https://revbayes.github.io/assets/img/search.png" height="22px" width="28px"/>
    </button>
  </form>
</div>

</li>
      </ul>
      <!-- <form class="navbar-form navbar-right" role="search" id="search" onsubmit="google_search(); return false;">
        <div class="form-group">
          <input type="text" id="google-search" placeholder="Search..." aria-label="Google site search">
        </div>
      </form> -->
    </div>
  </div>
</nav>

      <!-- adds margin to main content -->
      <div class="container" style="padding-left:20px padding-right:20px;">
          <div class="titlebar">
	<h1 class="maintitle">RevBayes Git Workflow</h1>
	
	<h4 class="authors"></h4>
  <h5>Last modified on February 18, 2021</h5>
</div>


<div class="sidebar no-print" style="width: 100%;">
<blockquote class="overview" id="overview">
  <h2>Overview</h2>
  
</blockquote>

</div>

<h2 class="section" id="contribution-process">Contribution process</h2>
<hr class="section" />

<h3 class="subsection" id="working-on-the-revbayes-repository">Working on the RevBayes repository</h3>
<hr class="subsection" />

<p>The main branches of the RevBayes repo exist are</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">master</code></li>
  <li><code class="language-plaintext highlighter-rouge">development</code></li>
</ul>

<p>The <code class="language-plaintext highlighter-rouge">master</code> branch should always reflect the state of the current release of
RevBayes. The <code class="language-plaintext highlighter-rouge">development</code> branch contains the working additions/changes to the
code that are to be included in the next release.</p>

<p><strong>You should not work on either of these branches directly.</strong> Rather, to make changes or work on a new feature, you should create a separate branch off of <code class="language-plaintext highlighter-rouge">development</code>. While working on your branch, frequently merge changes from <code class="language-plaintext highlighter-rouge">development</code> to stay up to date.
Once your work is ready, and <em>before</em> you merge your branch into <code class="language-plaintext highlighter-rouge">development</code>,
make sure to merge any changes from <code class="language-plaintext highlighter-rouge">development</code> and verify the code is
compiling and tests are passing.
Once these checks have been done, create a pull request to merge your branch into <code class="language-plaintext highlighter-rouge">development</code>. You can request reviewers for your pull request directly via GitHub, or by asking on Slack. After your pull request is approved, or if it has not been reviewed within 30 days, it will be merged into <code class="language-plaintext highlighter-rouge">development</code>.</p>

<p>The branch <code class="language-plaintext highlighter-rouge">hotfix-development</code> exists for small (<em>one</em> commit only) changes that are not worth creating a new branch for (for instance, small bugfixes, readme or help files edits, etc.). A pull request can then be created to merge those changes into <code class="language-plaintext highlighter-rouge">development</code>.</p>

<p>New features should <em>never</em> be merged directly into <code class="language-plaintext highlighter-rouge">master</code>. Only hotfixes to the current release may be merged into <code class="language-plaintext highlighter-rouge">master</code>.
For hotfixes, create a separate branch from <code class="language-plaintext highlighter-rouge">master</code>, make the fix and verify
it, and then merge the hotfix branch into <code class="language-plaintext highlighter-rouge">master</code> and <code class="language-plaintext highlighter-rouge">development</code>. Similarly to above, the <code class="language-plaintext highlighter-rouge">hotfix-master</code> branch exists for small (<em>one</em> commit only) bugfixes to the current release. A pull request can then be created to merge those changes into <code class="language-plaintext highlighter-rouge">master</code> and <code class="language-plaintext highlighter-rouge">development</code>.</p>

<p>For more information, please follow this illustrated <a href="Git_flow_illustrated.pdf">guide</a>.</p>

<h4 class="subsubsection" id="recommended-reading"><em>Recommended reading</em></h4>
<hr class="subsubsection" />

<p>The RevBayes workflow is inspired by this guide: <a href="http://nvie.com/posts/a-successful-git-branching-model/">http://nvie.com/posts/a-successful-git-branching-model/</a></p>

<h3 class="subsection" id="forking-the-revbayes-repo">Forking the RevBayes repo</h3>
<hr class="subsection" />

<p>Forking the RevBayes repository is not mandatory as long as the workflow outlined above is respected. However, occasional developers or people who are considering contributing may fork their own copy of the repository on GitHub in order to keep the total number of branches reasonable. They can then contribute their changes via pull request.</p>

<h3 class="subsection" id="automated-tests">Automated tests</h3>
<hr class="subsection" />

<p>A suite of automated tests is run on all new pushes to the repository. The outcome of the tests will be notified by email to the author of the commits, and on Slack on the #github channel. More information on the tests and how to update them can be found <a href="/developer/automated_builds/">here</a>.</p>

<h2 class="section" id="code-review-process">Code review process</h2>
<hr class="section" />

<p>As mentioned above, all pull requests need to undergo a code review before being merged into the repository. All regular contributors to RevBayes may be asked to perform code reviews, so it is important to understand the process.</p>

<h3 class="subsection" id="code-review-assignments">Code review assignments</h3>
<hr class="subsection" />

<p>A developer creating a pull request may decide to request reviews from one or more people. These people will appear under the <code class="language-plaintext highlighter-rouge">Reviewers</code> heading. This is only a request, and is not binding. If you do decide to review a pull request you have been requested on, please assign yourself under the <code class="language-plaintext highlighter-rouge">Assignees</code> heading. This helps both the pull request creators and the people managing the repository to easily see which pull requests are actively under review and which are still looking for reviewers.</p>

<p>In case no reviewers were requested, or if all the requested reviewers are unable to do a review, a reviewer will be assigned from the list of available developers. If you are assigned, you will get a GitHub notification. If you are unable to review the pull request you have been assigned to, please contact the person who assigned you (whose name will appear in the notification as well as in the pull requestâ€™s <code class="language-plaintext highlighter-rouge">Conversation</code> tab) so you can be replaced.</p>

<h4 class="subsubsection" id="reviewing-guidelines"><em>Reviewing guidelines</em></h4>
<hr class="subsubsection" />

<p>Code reviews are an essential part of the current process, for two main reasons. First, the current suite of automated tests in incomplete, and may not catch all issues. Second, some issues such as missing documentation, or the introduction of a new model without an accompanying validation test, can only be caught by human eyes.</p>

<p>Some suggested checks for reviews are:</p>

<ul>
  <li>check that there is documentation and that it follows the RevBayes <a href="best_practices#doxygen_guidelines">guidelines</a></li>
  <li>if existing functions have been changed or extended, check that the documentation, the help files and/or the RevBayes website (if applicable) have also been updated</li>
  <li>check that the added code is readable: proper indentation, good names for functions and variables (no <code class="language-plaintext highlighter-rouge">bbb</code> or <code class="language-plaintext highlighter-rouge">thing</code> or <code class="language-plaintext highlighter-rouge">DoStuff</code>)</li>
  <li>if a new model or probability distribution is introduced, check that corresponding validation  and integration tests have also been added</li>
  <li>check that added code or functionality does not duplicate existing parts of RevBayes</li>
</ul>

<p>Note that these are only suggestions and may not be applicable to all pull requests. Feel free to bring up any other issue you notice.</p>

<h4 class="subsubsection" id="checking-out-code"><em>Checking out code</em></h4>
<hr class="subsubsection" />

<p>Checking out the code in a pull request can be useful to run additional tests. If the pull request was created from a branch in the RevBayes repository, this can be done very simply by checking out the corresponding branch. Any changes committed and pushed to that branch will automatically be added to the pull request.</p>

<p>The process is more complicated if the pull request was created from a fork of the repository. In that case, you can check out the pull request by using the command <code class="language-plaintext highlighter-rouge">git fetch origin pull/ID/head:NAME</code>, where <code class="language-plaintext highlighter-rouge">ID</code> is the pull request number and <code class="language-plaintext highlighter-rouge">NAME</code> any name you like, followed by <code class="language-plaintext highlighter-rouge">git checkout NAME</code>. Note that this will only allow you to check out the code, and not to push any edits. To edit the pull request, you will need to clone the forked repository and push your edits to the branch that was linked in the pull request.</p>

<h3 class="subsection" id="sending-your-review">Sending your review</h3>
<hr class="subsection" />

<p>Small issues (e.g. typos) can be fixed directly by the reviewer, either by editing directly the files on the GitHub website, or by following the process outlined above to check out a pull request.</p>

<p>Any other changes should be requested using the review option <code class="language-plaintext highlighter-rouge">Request changes</code>. The requests should state clearly what the issues are and where (file or function name) they appear.
The review option <code class="language-plaintext highlighter-rouge">Comment</code> can be used to ask questions. If there are no requests for changes or questions, select the review option <code class="language-plaintext highlighter-rouge">Accept</code>.</p>

<h3 class="subsection" id="follow-up">Follow-up</h3>
<hr class="subsection" />

<p>The creator of the pull request is responsible for making the requested changes or otherwise addressing the comments. They can then re-request a review from the assigned reviewer, which will notify them to check the added changes and approve or make new comments.</p>

<p>Once the pull request is approved (directly or after changes) and the automated tests pass, the pull request can be merged into the repository. If some time has passed since the original request, it may be necessary to update the branch first (<code class="language-plaintext highlighter-rouge">Update branch</code> button). Updating and merging can be done by any developer.</p>

<p>Once the pull request has been merged, the branch it was created from should be deleted by its creator, unless they intend to keep working on that branch.</p>

<ol class="bibliography"></ol>

<script type="text/javascript">
var _ol = document.querySelectorAll('ol');
for (var i = 0, elem_ol; elem_ol = _ol[i]; i++) {
	if ( elem_ol.classList == "bibliography" ) {
		var _li = elem_ol.getElementsByTagName("li");
		//for (var j = 0, elem_li; elem_li = _li[j]; j++)
		//{
		//	elem_li.innerHTML = elem_li.innerHTML.replace(/(https?:\/\/)([^\s<]+)/,"<a href=\"$1$2\">$2");
		//}
		if(_li.length > 0)
			elem_ol.outerHTML = "<h2 class='references'>References</h2><hr class='references'>"+elem_ol.outerHTML
	}
}
</script>
      </div>
      <br>
<footer>
  <div class="container">
  <div class="row">
    <div class="col-sm-12" align="center">
      <a href="https://github.com/revbayes">GitHub</a> | <a href="/license">License</a> | <a href="/citation">Citation</a> | <a href="https://groups.google.com/forum/#!forum/revbayes-users">Users Forum</a>
    </div>
  </div>
  <br>
  </div>
</footer>

    </div>
    <script src="/assets/js/vendor/jquery.min.js"></script>
<script src="/assets/js/vendor/FileSaver.min.js"></script>
<script src="/assets/js/vendor/jszip.min.js"></script>
<script src="/assets/js/vendor/bootstrap.min.js"></script>

<script type="text/javascript">
// Add default language
$(":not(code).highlighter-rouge").each(function() {
  
  if( this.classList == "highlighter-rouge") {
    this.classList = "default highlighter-rouge";
  }
  
});
// $("code.highlighter-rouge").each(function() {
//   
//   if( this.classList == "highlighter-rouge") {
//       this.classList = "default highlighter-rouge";
//   }
//   
// });
</script>
<script type="text/javascript"
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
    MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [['$','$'], ['\\(','\\)']],
      processEscapes: true
    }
    });
    MathJax.Hub.Queue(function () {
      $(".aside").each(function() {
          $("div .MathJax", this).hide();
      });
    });
</script>
<script src="/assets/js/base.js"></script>

    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-0Y03X9Q2TJ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-0Y03X9Q2TJ');
</script>

  </body>
</html>
