
trace_all = readTreeTrace("output/bears_FBD_all.trees")
trees_all = trace_all.getTrees()

num_trees = trees_all.size()

# Monitor the tree, pruning fossil taxa for which we do not have morphological or molecular data #
extinct_sp = v("Agriarctos_spp", "Ailurarctos_lufengensis", "Ballusia_elmensis", "Indarctos_arctoides", "Indarctos_punjabiensis", "Indarctos_vireti", "Kretzoiarctos_beatrix", "Parictis_montanus", "Ursavus_brevirhinus", "Ursavus_primaevus", "Ursus_abstrusus", "Zaragocyon_daamsi")

for ( i in 1:num_trees ) {
  tmp = fnPruneTree(trees_all[i], prune=extinct_sp)
  write( i, TAB, tmp, "\n" sep="", append=(i>1), file="my_trace.trees" )
}

trace = readTreeTrace("my_trace.trees")
mapTree(trace, file="bears_FBD_extant.map.tre" )


# Read the trace file #
trace_extant = readTreeTrace("output/bears_FBD_extant.trees")
trace = readTreeTrace("output/bears_FBD_all.trees")

# Maximum clade credibility tree #
mccTree(trace_extant, file="output/bears_FBD_extant.mcc.tre" )
mccTree(trace, file="output/bears_FBD_all.mcc.tre" )

# Quit RevBayes #
q()
