<!doctype html>
<html lang="en">
<link rel="icon" type="image/png" href="/assets/img/favicon.png" >
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="search-domain" value="https://revbayes.github.io/">
    <link href="https://fonts.googleapis.com/css?family=Raleway" rel="stylesheet">
    <link rel="stylesheet" href="/assets/css/syntax.css">
    <link rel="stylesheet" type="text/css" href="/assets/css/bootstrap.css" />
    <link rel="stylesheet" type="text/css" href="/assets/css/bootstrap-theme.css" />
    <link rel="stylesheet" type="text/css" href="/assets/css/main.css" />
    <title>RevBayes: Singularity</title>
  </head>
  <body>
    <div class="container">
      <nav class="navbar navbar-default navbar-fixed-top">
  <div class="container-fluid">
    <div class="navbar-header">
      <a href="/" class="pull-left">
        
        <img class="navbar-logo" src="/assets/img/aquabayes-desaturated.png" alt="RevBayes Home" />
        
      </a>

      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar" align="right"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

    </div>
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav">
        <li><a href="/download">Download</a></li>
        <li><a href="/tutorials/">Tutorials</a></li>
        <li><a href="/documentation/">Documentation</a></li>
        <li><a href="/interfaces">Interfaces</a></li>
        <li><a href="/workshops/">Workshops</a></li>
        <li><a href="/jobs/">Jobs</a></li>
        <li><a href="/developer/">Developer</a></li>
        <li><class="header-search">
  <form class="header-search-form" action="/search.html" method="get">
    <input type="text" id="search-box-nav" placeholder="Search..." name="query" style="border-color:black;background-color:white;height:32px;">
    <button type="submit" style="color:black; border-color:black;width:32px;height:32px;padding-top:4px">
        <img src="https://revbayes.github.io/assets/img/search.png" height="22px" width="28px"/>
    </button>
  </form>
</div>

</li>
      </ul>
      <!-- <form class="navbar-form navbar-right" role="search" id="search" onsubmit="google_search(); return false;">
        <div class="form-group">
          <input type="text" id="google-search" placeholder="Search..." aria-label="Google site search">
        </div>
      </form> -->
    </div>
  </div>
</nav>

      <!-- adds margin to main content -->
      <div class="container">
          <h1 class="maintitle">

Singularity

</h1>
<hr>

<h2 id="what-is-singularity">What is Singularity?</h2>

<p>Singularity is a container runtime designed for use in HPC.</p>

<p>Containers can run without root access on any Linux system with Singularity installed.</p>

<p><a href="https://sylabs.io/singularity/faq/">Singularity FAQ</a></p>

<p>Containers are immutable and directories are mounted to read or write from files. Some directories are mounted automatically when an image is run. <a href="https://sylabs.io/guides/3.4/user-guide/quick_start.html#working-with-files">More information is available here</a>.</p>

<h2 id="how-do-i-install-the-singularity-runtime">How do I install the Singularity runtime?</h2>

<p>Installing the Singularity runtime requires root access to a Linux machine.</p>

<p>Your HPC system may already have it installed.</p>

<p>If not, your HPC staff can get it from a EPEL (CentOS/RHEL) or a Debian/Ubuntu repository. <a href="https://sylabs.io/guides/3.4/user-guide/installation.html#distribution-packages-of-singularity">More information is available here.</a></p>

<h2 id="how-to-use-the-revbayes-image">How to use the RevBayes image</h2>

<p>First, download the RevBayes Singularity image. <a href="https://github.com/revbayes/revbayes/releases/download/v1.2.5/RevBayes_Singularity_v1.2.5.simg">RevBayes_Singularity_v1.2.5.simg</a>.</p>

<h4 id="to-get-to-an-interative-shell">To get to an interative shell</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>singularity run --app rb RevBayes_Singularity_v1.2.5.simg 
</code></pre></div></div>

<h4 id="to-run-a-script-file">To run a script file</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>singularity run --app rb RevBayes_Singularity_v1.2.5.simg myscript.rev
</code></pre></div></div>

<p>Any arguments after RevBayes_Singularity_v1.2.5.simg are passed to the rb command.</p>

<h3 id="mpi">MPI</h3>

<p>The container also contains the MPI version of RevBayes. This version was built with the ubuntu-provided OpenMPI implementation (3.1.3) and may not work with other MPI versions.</p>

<p>To run a script file:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mpirun singularity run --app rbmpi RevBayes_Singularity_v1.2.5.simg myscript.rev
</code></pre></div></div>

<p>If it does not work with the version of MPI you have on your cluster, you could ask your administrator to rebuild the image for the appropriate MPI version for your environment (see recipe below). <a href="https://sylabs.io/guides/3.4/user-guide/mpi.html">More information is available here</a>.</p>

      </div>
      <br>
<footer>
  <div class="container">
  <div class="row">
    <div class="col-sm-12" align="center">
      <a href="https://github.com/revbayes">GitHub</a> | <a href="/license">License</a> | <a href="/citation">Citation</a> | <a href="https://groups.google.com/forum/#!forum/revbayes-users">Users Forum</a>
    </div>
  </div>
  <br>
  </div>
</footer>

    </div>
    <script src="/assets/js/vendor/jquery.min.js"></script>
<script src="/assets/js/vendor/FileSaver.min.js"></script>
<script src="/assets/js/vendor/jszip.min.js"></script>
<script src="/assets/js/vendor/bootstrap.min.js"></script>

<script type="text/javascript">
// Add default language
$(":not(code).highlighter-rouge").each(function() {
  
  if( this.classList == "highlighter-rouge") {
    this.classList = "default highlighter-rouge";
  }
  
});
// $("code.highlighter-rouge").each(function() {
//   
//   if( this.classList == "highlighter-rouge") {
//       this.classList = "default highlighter-rouge";
//   }
//   
// });
</script>
<script type="text/javascript"
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
    MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [['$','$'], ['\\(','\\)']],
      processEscapes: true
    }
    });
    MathJax.Hub.Queue(function () {
      $(".aside").each(function() {
          $("div .MathJax", this).hide();
      });
    });
</script>
<script src="/assets/js/base.js"></script>

    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-0Y03X9Q2TJ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-0Y03X9Q2TJ');
</script>

  </body>
</html>
